# ============================================================================
# IMAGETOOLS - PRODUCTION DOCKER ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and update the values for your deployment
# These values override the defaults in docker-compose.yml

# ----------------------------------------------------------------------------
# CRITICAL: Security Configuration
# ----------------------------------------------------------------------------
# Generate a secure random key (minimum 32 characters)
# Example: openssl rand -base64 32
SESSION_SECRET_KEY=CHANGE_THIS_TO_A_SECURE_RANDOM_KEY_MIN_32_CHARS

# ----------------------------------------------------------------------------
# CRITICAL: Internal Authentication (Hardened Deployments Only)
# ----------------------------------------------------------------------------
# For production Hardened (B) deployments with defense-in-depth security
# Set REQUIRE_INTERNAL_AUTH=true and generate a secret for X-Internal-Auth header
#
# Generate with: openssl rand -hex 32
# This secret MUST match between your reverse proxy and backend
#
# Leave REQUIRE_INTERNAL_AUTH=false for Simplified (A) deployments
REQUIRE_INTERNAL_AUTH=false
INTERNAL_AUTH_SECRET=

# Uncomment and set for Hardened (B) deployment:
# REQUIRE_INTERNAL_AUTH=true
# INTERNAL_AUTH_SECRET=CHANGE_THIS_TO_YOUR_GENERATED_SECRET_64_CHARS

# ----------------------------------------------------------------------------
# CRITICAL: OpenRouter OAuth Configuration
# ----------------------------------------------------------------------------
# This MUST be set to your actual deployment URL for OAuth enrollment to work

# Replace with your deployment URL:
#   - Localhost: http://localhost:8082
#   - Local network: http://192.168.1.100:8082 (use your server's IP)
#   - Public domain: https://yourdomain.com
# The OAuth callback URL will automatically be: {OPENROUTER_APP_URL}/oauth/callback
OPENROUTER_APP_URL=http://localhost:8082

# Application name shown in OpenRouter (optional, can customize)
OPENROUTER_APP_NAME=ImageTools

# ----------------------------------------------------------------------------
# Optional: CORS Origins
# ----------------------------------------------------------------------------
# Add additional origins if needed (comma-separated)
# The deployment URL is automatically included
CORS_ORIGINS=http://localhost:8082,http://127.0.0.1:8082

# ----------------------------------------------------------------------------
# Optional: OpenRouter Fallback API Key
# ----------------------------------------------------------------------------
# If you want a shared API key instead of user enrollment, add it here
# Leave empty to require each user to connect their own OpenRouter account
OPENROUTER_API_KEY=

# ----------------------------------------------------------------------------
# Optional: Application Limits
# ----------------------------------------------------------------------------
# Uncomment and adjust these if you want different limits
# SESSION_EXPIRY_DAYS=7
# MAX_IMAGES_PER_SESSION=5
# MAX_UPLOAD_SIZE_MB=20
# CHUNK_SIZE_MB=5
# MAX_PARALLEL_UPLOADS=3

# ----------------------------------------------------------------------------
# Optional: Logging
# ----------------------------------------------------------------------------
# LOG_LEVEL=INFO
# DEBUG=False
